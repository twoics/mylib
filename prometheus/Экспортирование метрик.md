
## PushGateway

Экспортер данных, который принимает метрики по запросу и так же по запросу предоставляет их `Prometheus`


#### Архитектура ![[Pasted image 20240224225053.png]]

#### Когда использовать
Часто используется при периодических задачах, когда задача после завершения кладет в него результат.

Зачастую периодические задачи являются быстро выполняются, и Prometheus просто не успевает получить из них значения, либо выполняются в среде в которой у `Prometheus` к ним нет доступа

## Интеграция

```yaml
scrape_configs:
- job_name: pushgateway
honor_labels: true
static_configs:
- targets:
- localhost:9091
```

##### Отправка

	Все отправки принимают аргумент job - специальная строковая метка

- `push_to_gateway` **Все** существующие метрики `job`  удаляются и добавляются новые
- `pushadd_to_gateway` **Перезаписывает** только **новые** метрики в `job` - старые не трогает
- `delete_from_gateway` **Удаляет** все метрики в `job`



